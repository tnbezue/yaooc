#! /bin/sh

version="@YAOOC_MAJOR_VERSION@.@YAOOC_MINOR_VERSION@.@YAOOC_PATCH_LEVEL@"
prefix="@prefix@"
exec_prefix="@exec_prefix@"
libdir="@libdir@"
includedir="@includedir@/yaooc"
LIBS="@LIBS@"
YAOOC_LIBS="-lyaooc-@YAOOC_MAJOR_VERSION@.@YAOOC_MINOR_VERSION@"
YAOOC_TEMPLATES="-I@datarootdir@/yaooc/templates"
CFLAGS="@CFLAGS@"

usage()
{
  cat <<EOF
Usage: yaooc-config [OPTIONS] [LIBRARIES]
Options:
 [--prefix[=DIR]]
 [--exec-prefix[=DIR]]
 [--version]
 [--libs]
 [--cflags]
 [--ydir]
EOF
  exit $1
}

if test $# -eq 0 ; then
  usage 1 1>&2
fi

while test $# -gt 0 ; do
  case "$1" in
  -*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) optarg= ;;
  esac

  case $1 in
  --prefix=*)
    prefix=$optarg
    local_prefix=yes
    ;;
  --prefix)
    echo_prefix=yes
    ;;
  --exec-prefix=*)
    exec_prefix=$optarg
    exec_prefix_set=yes
    local_prefix=yes
    ;;
  --exec-prefix)
    echo_exec_prefix=yes
    ;;
  --version)
    echo $version
    exit 0
    ;;
  --cflags)
    echo_cflags=yes
    ;;
  --libs)
    echo_libs=yes
    ;;
  --ydir)
		echo_ydir=yes
		;;
  *)
    usage 1 1>&2
    ;;
  esac
  shift
done

echo_str=""
if test "$local_prefix" = "yes" ; then
    if test "$exec_prefix_set" != "yes" ; then
#      exec_prefix=$prefix
			echo_str="$echo_str $prefix"
    fi
fi

if test "$echo_prefix" = "yes" ; then
# echo $prefix
	echo_str="$echo_str $prefix"
fi

if test "$echo_exec_prefix" = "yes" ; then
# echo $exec_prefix
	echo_str="$echo_str $exec_prefix"
fi

if test "$echo_cflags" = "yes" ; then
# cflags="-I${includedir}"
# echo $cflags
	echo_str="$echo_str $CFLAGS"
fi

if test "$echo_libs" = "yes" ; then
 libs="${YAOOC_LIBS} ${LIBS}"
 if test "${libdir}" != "/usr/lib" ; then
  echo_str="$echo_str -L${libdir} $libs"
 else
  echo_str="$echo_str $libs"
 fi
fi

if [ -n "$echo_str" ]; then
  echo $echo_str
fi

# EOF

