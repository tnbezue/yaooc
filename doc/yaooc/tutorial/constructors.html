<!DOCTYPE html>
<!--
  Copyright (C) 2016-2019  by Terry N Bezue

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<html>
<head>
<title>Constructors</title>
<meta name="generator" content="Bluefish 2.2.10" >
<meta name="copyright" content="">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="expires" content="0">
<link href="yaooc.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="yaooc.js"></script>
</head>
<body>
<div id="wrapper">
<script>header();</script>
<script>menu();</script>
<div id="content" class="content">
<div style="overflow-y: scroll; height:900px">
<h2>Construtors</h2>
<p>
In this lesson three constructors for my_string class will be created. Constructors names can be any valid C identifier but must begin with
the name of the class. It is suggested that it be the class name appended with "_ctor_" and abbreviations of argument types.
</p>
<p></p>
The first constructor initializes my_string object using n characters of the supplied string.
</p>
<pre><code>
  my_string_ctor_ccs_size(const char* str,size_t n) : my_string()
  {
    if(str != NULL) {
      if(n > strlen(str))
        n=strlen(str);
      if(n > 0) {
        this->str=malloc(n+1);
        strncpy(this->str,str,n);
        this->str[n]=0;
      }
    }
  }
</code></pre>
The second constructor creates a my_string object using the entire string specified.
</p>
<pre><code>
  /* Uses string to initialize object */
  my_string_ctor_ccs(const char* str) : my_string_ctor_ccs_size(str,SIZE_MAX)
  {
  }
</code></pre>
<p>
In the second constructor, notice that a call is made to the first constructor by specifying the first constructor as an initializer.
If no initializers are specified, the default constructor is called by default.
</p>

<p>
The third constructor initializes a my_string object with n copies of the specified character.
</p>
<pre><code>
  my_string_ctor_chr_size(int c,size_t n)
  {
    if(c && n > 0) {
      this->str=malloc(n+1);
      memset(this->str,c,n);
      this->str[n]=0;
    }
  }
</code></pre>
<p>
</p>
<p>
The constructors are called using "new_ctor" version of new.
</p>
<pre><code>
  my_string_pointer ms1 = new_ctor(my_string,my_string_ctor_ccs_size,"This is a test.",1024);
  my_string_pointer ms2 = new_ctor(my_string,my_string_ctor_ccs,"This is a test.");
  my_string_pointer ms3 = new_ctor(my_string,my_string_ctor_chr_size,'Y',24);
</code></pre>
<p>
See the example for this section for a complete listing.
</p>
</div>
</div>
</div>
</body>
</html>
