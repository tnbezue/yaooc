<!DOCTYPE html>
<html>
<head>
<title>New/Delete</title>
<meta name="generator" content="Bluefish 2.2.10" >
<meta name="copyright" content="">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="expires" content="0">
<link href="yaooc.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="yaooc.js"></script>
</head>
<body>
<div id="wrapper">
<script>header();</script>
<script>menu();</script>
<div id="content" class="content">
<div style="overflow-y: scroll; height:900px">
<h2>
New/Delete
</h2>
<p>In C++, the syntax of new is changed to achieve different results.  C does not have this luxury -- a different method
has to be used to achieve different results.  The following table shows a few C++ forms of new and the corresponding C method
provided in YAOOC. In the table, T is the type, n is the number of elements to create, ref is reference to existing object,
ptr is pointer to existing object, ctor is a constructor method, and args are one or more arguments. 
</p>

<div class="divTable">
<div class="divTableBody">
<div class="divTableRow">
<div class="divTableHead">Purpose</div>
<div class="divTableHead">C++</div>
<div class="divTableHead">YAOOC</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Allocate and initialize single object of type T using default constructor</div>
<div class="divTableCell">new T;</div>
<div class="divTableCell">new(T);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Allocate and initialize array of n objects of type T</div>
<div class="divTableCell">new T[n];</div>
<div class="divTableCell">new_array(T,n);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Create new object from existing object (copy constructor)</div>
<div class="divTableCell">new T(ref);</div>
<div class="divTableCell">new_copy(ptr);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Create array of n objects from existing object (copy constructor)</div>
<div class="divTableCell">N/A</div>
<div class="divTableCell">new_array_copy(ptr,n);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Create new object using specified constructor to initialize the object</div>
<div class="divTableCell">new T(args);</div>
<div class="divTableCell">new_ctor(T,ctor,args);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Create array of n objects using specified constructor to initialize each object</div>
<div class="divTableCell">N/A</div>
<div class="divTableCell">new_array_ctor(T,n,ctor,args);</div>
</div>
</div>
</div>

<p>
Delete has two forms as shown in table below
</p>
<div class="divTable">
<div class="divTableBody">
<div class="divTableRow">
<div class="divTableHead"><center>Purpose</center></div>
<div class="divTableHead">C++</div>
<div class="divTableHead">YAOOC</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Delete single object</div>
<div class="divTableCell">delete ptr;</div>
<div class="divTableCell">delete(ptr);</div>
</div>
<div class="divTableRow">
<div class="divTableCell">Delete array of objects</div>
<div class="divTableCell">delete [] ptr;</div>
<div class="divTableCell">delete(ptr);</div>
</div>
</div>
</div>
<p>
Yes, in YAOOC, delete is used to delete a single object or an array of objects.  However, if symmetry is desired,
delete_array can be used	.
</p>
<p>
Do not mix new/delete with malloc/free.  You can use malloc/free in a program that uses YAOOC.  Do not call free on an object created with new.  Likewise,
do not use delete for memory allocated with malloc.
</p>

</div>
</div>
</div>
</body>
</html>